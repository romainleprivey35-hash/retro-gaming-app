<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Retro Collection</title>
    <style>
        :root { --neon: #00ff88; --bg: #000; --card: #111; }
        body { 
            background: var(--bg); color: white; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0; padding: 0; height: 100vh; overflow: hidden; 
        }
        .app-container { height: 100vh; display: flex; flex-direction: column; }
        header { 
            height: 60px; background: #000; display: flex; align-items: center; 
            justify-content: center; border-bottom: 1px solid #222; flex-shrink: 0; padding-top: env(safe-area-inset-top);
        }
        #back-btn { position: absolute; left: 15px; background: #222; border: none; color: white; padding: 8px 15px; border-radius: 8px; display: none; z-index: 10; }
        header h1 { font-size: 1rem; color: var(--neon); text-transform: uppercase; letter-spacing: 2px; }

        /* Full Menu 3 blocs */
        .full-menu { display: flex; flex-direction: column; flex-grow: 1; background: #000; }
        .menu-item { 
            flex: 1; position: relative; overflow: hidden; display: flex; align-items: center; justify-content: center;
            border-bottom: 1px solid #222; background-size: cover; background-position: center;
        }
        .menu-item::after { content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); }
        .menu-item span { position: relative; z-index: 2; font-size: 1.8rem; font-weight: 900; text-transform: uppercase; letter-spacing: 3px; }

        /* Grille des articles */
        .scroll-view { flex-grow: 1; overflow-y: auto; padding: 10px; padding-bottom: 80px; -webkit-overflow-scrolling: touch; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .card { background: var(--card); border-radius: 12px; padding: 10px; border: 1px solid #222; text-align: center; }
        .img-box { height: 140px; display: flex; align-items: center; justify-content: center; background: #000; border-radius: 8px; overflow: hidden; }
        .img-box img { max-width: 100%; max-height: 100%; object-fit: contain; }
        .not-owned { opacity: 0.2; filter: grayscale(1); }
        .title { font-size: 0.75rem; font-weight: bold; height: 32px; overflow: hidden; margin-top: 5px; color: #eee; }
        .price { color: var(--neon); font-size: 1rem; font-weight: bold; margin-top: 5px; }

        .bottom-nav { 
            height: 70px; background: #000; border-top: 1px solid #222; 
            display: flex; justify-content: space-around; align-items: center; padding-bottom: env(safe-area-inset-bottom);
        }
        .nav-link { text-align: center; color: #555; font-size: 0.7rem; text-decoration: none; }
        .nav-link.active { color: var(--neon); }
        .hidden { display: none !important; }
    </style>
</head>
<body>

<div class="app-container">
    <header>
        <button id="back-btn" onclick="handleBack()">â—€</button>
        <h1 id="header-title">RETRO APP</h1>
    </header>

    <div id="view-brands" class="full-menu"></div>
    <div id="view-categories
